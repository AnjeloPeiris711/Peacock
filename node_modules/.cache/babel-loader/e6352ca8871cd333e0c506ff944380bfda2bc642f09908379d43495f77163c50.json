{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\"),\n    _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\")),\n    _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\")),\n    _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\")),\n    _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\")),\n    _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\")),\n    _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\")),\n    _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\")),\n    _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\")),\n    _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\")),\n    _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\")),\n    _react = _interopRequireWildcard(require(\"react\")),\n    _defaults = _interopRequireDefault(require(\"defaults\")),\n    _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\")),\n    _TerminalMessage = _interopRequireDefault(require(\"./TerminalMessage\")),\n    _validateCommands = _interopRequireDefault(require(\"./handlers/validateCommands\")),\n    _scrollHistory = _interopRequireDefault(require(\"./handlers/scrollHistory\")),\n    _parseEOL = _interopRequireDefault(require(\"./handlers/parseEOL\")),\n    _Terminal = _interopRequireDefault(require(\"./defs/styles/Terminal\")),\n    _Terminal2 = _interopRequireDefault(require(\"./defs/types/Terminal\")),\n    _commandExists2 = _interopRequireDefault(require(\"./utils/commandExists\")),\n    _constructEcho = _interopRequireDefault(require(\"./utils/constructEcho\")),\n    _shouldPromptBeVisible = _interopRequireDefault(require(\"./utils/shouldPromptBeVisible\"));\n\nfunction ownKeys(a, b) {\n  var c = Object.keys(a);\n\n  if (Object.getOwnPropertySymbols) {\n    var d = Object.getOwnPropertySymbols(a);\n    b && (d = d.filter(function (b) {\n      return Object.getOwnPropertyDescriptor(a, b).enumerable;\n    })), c.push.apply(c, d);\n  }\n\n  return c;\n}\n\nfunction _objectSpread(a) {\n  for (var b, c = 1; c < arguments.length; c++) {\n    b = null == arguments[c] ? {} : arguments[c], c % 2 ? ownKeys(Object(b), !0).forEach(function (c) {\n      (0, _defineProperty2[\"default\"])(a, c, b[c]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(b)) : ownKeys(Object(b)).forEach(function (c) {\n      Object.defineProperty(a, c, Object.getOwnPropertyDescriptor(b, c));\n    });\n  }\n\n  return a;\n}\n\nfunction _createSuper(a) {\n  var b = _isNativeReflectConstruct();\n\n  return function () {\n    var c,\n        d = (0, _getPrototypeOf2[\"default\"])(a);\n\n    if (b) {\n      var e = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      c = Reflect.construct(d, arguments, e);\n    } else c = d.apply(this, arguments);\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, c);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n  } catch (a) {\n    return !1;\n  }\n}\n\nvar Terminal = function (a) {\n  function b(a) {\n    var d;\n    return (0, _classCallCheck2[\"default\"])(this, b), d = c.call(this, a), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"focusTerminal\", function () {\n      var a = \"Range\" === window.getSelection().type;\n      a || d.terminalInput.current.focus();\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"scrollToBottom\", function () {\n      var a = d.terminalRoot.current;\n      setTimeout(function () {\n        a.scrollTop = a.scrollHeight;\n      }, 1);\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"validateCommands\", function () {\n      var a = d.props,\n          b = a.commands,\n          c = a.noDefaults,\n          e = a.ignoreCommandCase,\n          f = (0, _validateCommands[\"default\"])(b, d.showHelp, d.clearStdout, {\n        noDefaults: c,\n        ignoreCommandCase: e\n      });\n      d.setState({\n        commands: f\n      });\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"showWelcomeMessage\", function () {\n      var a = d.props.welcomeMessage;\n      \"boolean\" == typeof a ? d.pushToStdout(\"Welcome to the React terminal! Type 'help' to get a list of commands.\") : Array.isArray(a) ? a.map(function (a) {\n        return d.pushToStdout(a);\n      }) : d.pushToStdout(a);\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"showHelp\", function () {\n      var a = d.state.commands;\n\n      for (var f in a) {\n        var b = a[f],\n            e = b.usage ? \" - \".concat(b.usage) : \"\";\n        d.pushToStdout(\"\".concat(f, \" - \").concat(b.description).concat(e));\n      }\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"pushToStdout\", function (a, b) {\n      var c = d.state.stdout;\n      d.props.locked && c.pop(), c.push({\n        message: a,\n        isEcho: (null === b || void 0 === b ? void 0 : b.isEcho) || !1\n      }), null !== b && void 0 !== b && b.rawInput && d.pushToHistory(b.rawInput), d.setState({\n        stdout: c\n      });\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"pushToHistory\", function (a) {\n      var b = d.state.history;\n      b.push(a), d.setState({\n        history: b,\n        historyPosition: null\n      });\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"getStdout\", function () {\n      var a = d.props.noNewlineParsing ? d.state.stdout : (0, _parseEOL[\"default\"])(d.state.stdout);\n      return a.map(function (a, b) {\n        return _react[\"default\"].createElement(_TerminalMessage[\"default\"], {\n          key: b,\n          content: a.message,\n          dangerMode: d.props.dangerMode,\n          className: a.isEcho ? void 0 : d.props.messageClassName,\n          style: a.isEcho ? void 0 : d.props.messageStyle\n        });\n      });\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"clearStdout\", function () {\n      d.setState({\n        stdout: []\n      });\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"clearInput\", function () {\n      d.setState({\n        historyPosition: null\n      }), d.terminalInput.current.value = \"\";\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"processCommand\", function () {\n      d.setState({\n        processing: !0\n      }, (0, _asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function a() {\n        var b, c, e, f, g, h, i, j, k, l;\n        return _regenerator[\"default\"].wrap(function (a) {\n          for (;;) {\n            switch (a.prev = a.next) {\n              case 0:\n                if (b = {\n                  command: null,\n                  args: [],\n                  rawInput: null,\n                  result: null\n                }, c = d.terminalInput.current.value, d.props.noHistory || d.pushToHistory(c), d.props.noEchoBack || d.pushToStdout((0, _constructEcho[\"default\"])(d.props.promptLabel || \"$\", c, d.props), {\n                  isEcho: !0\n                }), !c) {\n                  a.next = 25;\n                  break;\n                }\n\n                if (e = c.split(\" \"), f = e.splice(0, 1)[0], g = e, b.rawInput = c, b.command = f, b.args = g, h = (0, _commandExists2[\"default\"])(d.state.commands, f, d.props.ignoreCommandCase), i = h.exists, j = h.command, i) {\n                  a.next = 16;\n                  break;\n                }\n\n                d.pushToStdout(d.props.errorText ? d.props.errorText.replace(/\\[command\\]/gi, j) : \"Command '\".concat(f, \"' not found!\")), a.next = 25;\n                break;\n\n              case 16:\n                return k = d.state.commands[j], a.next = 19, k.fn.apply(k, (0, _toConsumableArray2[\"default\"])(g));\n\n              case 19:\n                if (l = a.sent, d.pushToStdout(l), b.result = l, !k.explicitExec) {\n                  a.next = 25;\n                  break;\n                }\n\n                return a.next = 25, k.fn.apply(k, (0, _toConsumableArray2[\"default\"])(g));\n\n              case 25:\n                d.setState({\n                  processing: !1\n                }, function () {\n                  d.clearInput(), d.props.noAutoScroll || d.scrollToBottom(), d.props.commandCallback && d.props.commandCallback(b);\n                });\n\n              case 26:\n              case \"end\":\n                return a.stop();\n            }\n          }\n        }, a);\n      })));\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"scrollHistory\", function (a) {\n      var b = d.state,\n          c = b.history,\n          e = b.historyPosition,\n          f = b.previousHistoryPosition,\n          g = (0, _scrollHistory[\"default\"])(a, {\n        history: c,\n        historyPosition: e,\n        previousHistoryPosition: f,\n        terminalInput: d.terminalInput\n      });\n      g && d.setState(g);\n    }), (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(d), \"handleInput\", function (a) {\n      switch (a.key) {\n        case \"Enter\":\n          d.processCommand();\n          break;\n\n        case \"ArrowUp\":\n          d.scrollHistory(\"up\");\n          break;\n\n        case \"ArrowDown\":\n          d.scrollHistory(\"down\");\n      }\n    }), d.state = {\n      commands: {},\n      stdout: [],\n      history: [],\n      historyPosition: null,\n      previousHistoryPosition: null,\n      processing: !1\n    }, d.terminalRoot = _react[\"default\"].createRef(), d.terminalInput = _react[\"default\"].createRef(), d;\n  }\n\n  (0, _inherits2[\"default\"])(b, a);\n\n  var c = _createSuper(b);\n\n  return (0, _createClass2[\"default\"])(b, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(a) {\n      (0, _reactFastCompare[\"default\"])(a.commands, this.props.commands) || this.validateCommands();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.validateCommands(), this.props.welcomeMessage && this.showWelcomeMessage(), this.props.autoFocus && this.focusTerminal();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var a = {\n        container: (0, _defaults[\"default\"])(this.props.style, _Terminal[\"default\"].container),\n        content: (0, _defaults[\"default\"])(this.props.contentStyle, _Terminal[\"default\"].content),\n        inputArea: (0, _defaults[\"default\"])(this.props.inputAreaStyle, _Terminal[\"default\"].inputArea),\n        promptLabel: (0, _defaults[\"default\"])(this.props.promptLabelStyle, _Terminal[\"default\"].promptLabel),\n        input: (0, _defaults[\"default\"])(_objectSpread(_objectSpread({}, this.props.inputStyle), this.props.inputTextStyle), _objectSpread(_objectSpread({}, _Terminal[\"default\"].input), _Terminal[\"default\"].inputText))\n      };\n      return _react[\"default\"].createElement(\"div\", {\n        ref: this.terminalRoot,\n        name: \"react-console-emulator\",\n        className: this.props.className,\n        style: a.container,\n        onClick: this.focusTerminal\n      }, _react[\"default\"].createElement(\"div\", {\n        name: \"react-console-emulator__content\",\n        className: this.props.contentClassName,\n        style: a.content\n      }, this.getStdout(), _react[\"default\"].createElement(\"div\", {\n        name: \"react-console-emulator__inputArea\",\n        className: this.props.inputAreaClassName,\n        style: (0, _shouldPromptBeVisible[\"default\"])(this.state, this.props) ? a.inputArea : {\n          display: \"none\"\n        }\n      }, _react[\"default\"].createElement(\"span\", {\n        name: \"react-console-emulator__promptLabel\",\n        className: this.props.promptLabelClassName,\n        style: a.promptLabel\n      }, this.props.promptLabel || \"$\"), _react[\"default\"].createElement(\"input\", {\n        ref: this.terminalInput,\n        name: \"react-console-emulator__input\",\n        className: this.props.inputClassName,\n        style: a.input,\n        onKeyDown: this.handleInput,\n        type: \"text\",\n        autoComplete: \"off\",\n        disabled: this.props.disabled || this.props.disableOnProcess && this.state.processing\n      }))));\n    }\n  }]), b;\n}(_react.Component);\n\nexports[\"default\"] = Terminal, (0, _defineProperty2[\"default\"])(Terminal, \"propTypes\", _Terminal2[\"default\"]);","map":{"version":3,"sources":["L:/3rdyearproject/peacock/console-application/node_modules/react-console-emulator/dist/Terminal.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_regenerator","_toConsumableArray2","_asyncToGenerator2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_defaults","_reactFastCompare","_TerminalMessage","_validateCommands","_scrollHistory","_parseEOL","_Terminal","_Terminal2","_commandExists2","_constructEcho","_shouldPromptBeVisible","ownKeys","a","b","c","keys","getOwnPropertySymbols","d","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","_isNativeReflectConstruct","e","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","Terminal","window","getSelection","type","terminalInput","current","focus","terminalRoot","setTimeout","scrollTop","scrollHeight","props","commands","noDefaults","ignoreCommandCase","f","showHelp","clearStdout","setState","welcomeMessage","pushToStdout","Array","isArray","map","state","usage","concat","description","stdout","locked","pop","message","isEcho","rawInput","pushToHistory","history","historyPosition","noNewlineParsing","createElement","key","content","dangerMode","className","messageClassName","style","messageStyle","processing","mark","g","h","i","j","k","l","wrap","prev","next","command","args","result","noHistory","noEchoBack","promptLabel","split","splice","exists","errorText","replace","fn","sent","explicitExec","clearInput","noAutoScroll","scrollToBottom","commandCallback","stop","previousHistoryPosition","processCommand","scrollHistory","createRef","componentDidUpdate","validateCommands","componentDidMount","showWelcomeMessage","autoFocus","focusTerminal","render","container","contentStyle","inputArea","inputAreaStyle","promptLabelStyle","input","inputStyle","inputTextStyle","inputText","ref","name","onClick","contentClassName","getStdout","inputAreaClassName","display","promptLabelClassName","inputClassName","onKeyDown","handleInput","autoComplete","disabled","disableOnProcess","Component"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\"),_interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:!0}),exports[\"default\"]=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\")),_toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\")),_asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\")),_classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\")),_createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\")),_assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\")),_inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\")),_possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\")),_getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\")),_defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\")),_react=_interopRequireWildcard(require(\"react\")),_defaults=_interopRequireDefault(require(\"defaults\")),_reactFastCompare=_interopRequireDefault(require(\"react-fast-compare\")),_TerminalMessage=_interopRequireDefault(require(\"./TerminalMessage\")),_validateCommands=_interopRequireDefault(require(\"./handlers/validateCommands\")),_scrollHistory=_interopRequireDefault(require(\"./handlers/scrollHistory\")),_parseEOL=_interopRequireDefault(require(\"./handlers/parseEOL\")),_Terminal=_interopRequireDefault(require(\"./defs/styles/Terminal\")),_Terminal2=_interopRequireDefault(require(\"./defs/types/Terminal\")),_commandExists2=_interopRequireDefault(require(\"./utils/commandExists\")),_constructEcho=_interopRequireDefault(require(\"./utils/constructEcho\")),_shouldPromptBeVisible=_interopRequireDefault(require(\"./utils/shouldPromptBeVisible\"));function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){(0,_defineProperty2[\"default\"])(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=(0,_getPrototypeOf2[\"default\"])(a);if(b){var e=(0,_getPrototypeOf2[\"default\"])(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return(0,_possibleConstructorReturn2[\"default\"])(this,c)}}function _isNativeReflectConstruct(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var Terminal=function(a){function b(a){var d;return(0,_classCallCheck2[\"default\"])(this,b),d=c.call(this,a),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"focusTerminal\",function(){var a=\"Range\"===window.getSelection().type;a||d.terminalInput.current.focus()}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"scrollToBottom\",function(){var a=d.terminalRoot.current;setTimeout(function(){a.scrollTop=a.scrollHeight},1)}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"validateCommands\",function(){var a=d.props,b=a.commands,c=a.noDefaults,e=a.ignoreCommandCase,f=(0,_validateCommands[\"default\"])(b,d.showHelp,d.clearStdout,{noDefaults:c,ignoreCommandCase:e});d.setState({commands:f})}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"showWelcomeMessage\",function(){var a=d.props.welcomeMessage;\"boolean\"==typeof a?d.pushToStdout(\"Welcome to the React terminal! Type 'help' to get a list of commands.\"):Array.isArray(a)?a.map(function(a){return d.pushToStdout(a)}):d.pushToStdout(a)}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"showHelp\",function(){var a=d.state.commands;for(var f in a){var b=a[f],e=b.usage?\" - \".concat(b.usage):\"\";d.pushToStdout(\"\".concat(f,\" - \").concat(b.description).concat(e))}}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"pushToStdout\",function(a,b){var c=d.state.stdout;d.props.locked&&c.pop(),c.push({message:a,isEcho:(null===b||void 0===b?void 0:b.isEcho)||!1}),null!==b&&void 0!==b&&b.rawInput&&d.pushToHistory(b.rawInput),d.setState({stdout:c})}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"pushToHistory\",function(a){var b=d.state.history;b.push(a),d.setState({history:b,historyPosition:null})}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"getStdout\",function(){var a=d.props.noNewlineParsing?d.state.stdout:(0,_parseEOL[\"default\"])(d.state.stdout);return a.map(function(a,b){return _react[\"default\"].createElement(_TerminalMessage[\"default\"],{key:b,content:a.message,dangerMode:d.props.dangerMode,className:a.isEcho?void 0:d.props.messageClassName,style:a.isEcho?void 0:d.props.messageStyle})})}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"clearStdout\",function(){d.setState({stdout:[]})}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"clearInput\",function(){d.setState({historyPosition:null}),d.terminalInput.current.value=\"\"}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"processCommand\",function(){d.setState({processing:!0},(0,_asyncToGenerator2[\"default\"])(_regenerator[\"default\"].mark(function a(){var b,c,e,f,g,h,i,j,k,l;return _regenerator[\"default\"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b={command:null,args:[],rawInput:null,result:null},c=d.terminalInput.current.value,d.props.noHistory||d.pushToHistory(c),d.props.noEchoBack||d.pushToStdout((0,_constructEcho[\"default\"])(d.props.promptLabel||\"$\",c,d.props),{isEcho:!0}),!c){a.next=25;break}if(e=c.split(\" \"),f=e.splice(0,1)[0],g=e,b.rawInput=c,b.command=f,b.args=g,h=(0,_commandExists2[\"default\"])(d.state.commands,f,d.props.ignoreCommandCase),i=h.exists,j=h.command,i){a.next=16;break}d.pushToStdout(d.props.errorText?d.props.errorText.replace(/\\[command\\]/gi,j):\"Command '\".concat(f,\"' not found!\")),a.next=25;break;case 16:return k=d.state.commands[j],a.next=19,k.fn.apply(k,(0,_toConsumableArray2[\"default\"])(g));case 19:if(l=a.sent,d.pushToStdout(l),b.result=l,!k.explicitExec){a.next=25;break}return a.next=25,k.fn.apply(k,(0,_toConsumableArray2[\"default\"])(g));case 25:d.setState({processing:!1},function(){d.clearInput(),d.props.noAutoScroll||d.scrollToBottom(),d.props.commandCallback&&d.props.commandCallback(b)});case 26:case\"end\":return a.stop();}},a)})))}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"scrollHistory\",function(a){var b=d.state,c=b.history,e=b.historyPosition,f=b.previousHistoryPosition,g=(0,_scrollHistory[\"default\"])(a,{history:c,historyPosition:e,previousHistoryPosition:f,terminalInput:d.terminalInput});g&&d.setState(g)}),(0,_defineProperty2[\"default\"])((0,_assertThisInitialized2[\"default\"])(d),\"handleInput\",function(a){switch(a.key){case\"Enter\":d.processCommand();break;case\"ArrowUp\":d.scrollHistory(\"up\");break;case\"ArrowDown\":d.scrollHistory(\"down\");}}),d.state={commands:{},stdout:[],history:[],historyPosition:null,previousHistoryPosition:null,processing:!1},d.terminalRoot=_react[\"default\"].createRef(),d.terminalInput=_react[\"default\"].createRef(),d}(0,_inherits2[\"default\"])(b,a);var c=_createSuper(b);return(0,_createClass2[\"default\"])(b,[{key:\"componentDidUpdate\",value:function componentDidUpdate(a){(0,_reactFastCompare[\"default\"])(a.commands,this.props.commands)||this.validateCommands()}},{key:\"componentDidMount\",value:function componentDidMount(){this.validateCommands(),this.props.welcomeMessage&&this.showWelcomeMessage(),this.props.autoFocus&&this.focusTerminal()}},{key:\"render\",value:function render(){var a={container:(0,_defaults[\"default\"])(this.props.style,_Terminal[\"default\"].container),content:(0,_defaults[\"default\"])(this.props.contentStyle,_Terminal[\"default\"].content),inputArea:(0,_defaults[\"default\"])(this.props.inputAreaStyle,_Terminal[\"default\"].inputArea),promptLabel:(0,_defaults[\"default\"])(this.props.promptLabelStyle,_Terminal[\"default\"].promptLabel),input:(0,_defaults[\"default\"])(_objectSpread(_objectSpread({},this.props.inputStyle),this.props.inputTextStyle),_objectSpread(_objectSpread({},_Terminal[\"default\"].input),_Terminal[\"default\"].inputText))};return _react[\"default\"].createElement(\"div\",{ref:this.terminalRoot,name:\"react-console-emulator\",className:this.props.className,style:a.container,onClick:this.focusTerminal},_react[\"default\"].createElement(\"div\",{name:\"react-console-emulator__content\",className:this.props.contentClassName,style:a.content},this.getStdout(),_react[\"default\"].createElement(\"div\",{name:\"react-console-emulator__inputArea\",className:this.props.inputAreaClassName,style:(0,_shouldPromptBeVisible[\"default\"])(this.state,this.props)?a.inputArea:{display:\"none\"}},_react[\"default\"].createElement(\"span\",{name:\"react-console-emulator__promptLabel\",className:this.props.promptLabelClassName,style:a.promptLabel},this.props.promptLabel||\"$\"),_react[\"default\"].createElement(\"input\",{ref:this.terminalInput,name:\"react-console-emulator__input\",className:this.props.inputClassName,style:a.input,onKeyDown:this.handleInput,type:\"text\",autoComplete:\"off\",disabled:this.props.disabled||this.props.disableOnProcess&&this.state.processing}))))}}]),b}(_react.Component);exports[\"default\"]=Terminal,(0,_defineProperty2[\"default\"])(Terminal,\"propTypes\",_Terminal2[\"default\"]);"]},"metadata":{},"sourceType":"script","externalDependencies":[]}